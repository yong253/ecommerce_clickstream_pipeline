# 🛒 E-commerce Real-time Analytics Pipeline

본 프로젝트는 이커머스 클릭스트림 데이터를 활용하여 사용자 행동을 실시간으로 분석하고 시각화하는 **엔드 투 엔드(End-to-End)** 데이터 파이프라인입니다. 
데이터 발생부터 최종 시각화까지의 전 과정을 자동화된 컨테이너 환경에서 구현했습니다.

---

## 1. 프로젝트 개요 및 목적

* **실시간 인사이트 도출**: 쏟아지는 유저 로그를 즉시 분석하여 비즈니스 지표로 변환합니다.
* **개인화 분석**: 특정 유저의 카테고리 선호도를 실시간으로 추적합니다.
* **트렌드 모니터링**: 카테고리별 실시간 인기 상품 Top 5를 시각화하여 트렌드 변화를 감지합니다.

---

## 2. 전체 아키텍처

전체 시스템은 **Docker 기반의 컨테이너 환경**에서 독립적으로 운영됩니다.

* **Kafka**: 실시간 유저 활동 로그 수집 및 버퍼링.
* **Spark Streaming**: 윈도우 기반 데이터 집계 및 상태 관리(Watermarking).
* **Redis**: 고성능 실시간 데이터 서빙을 위한 In-memory 저장소.
* **FastAPI**: Redis 데이터를 가공하여 대시보드에 전달하는 API 서버.
* **Streamlit**: 최종 인사이트 시각화 및 인터랙티브 대시보드.
* **Airflow**: 주기적인 배치 작업 및 파이프라인 운영 스케줄링 담당.

---

## 3. 설치 및 실행 방법

### **환경 설정**
* **시스템 권장 사양**: 20GB 이상의 RAM (Docker 할당량 14GB 이상).
* **필수 도구**: Docker, Docker Compose.

### **실행 명령어**

```bash
# 1. 전체 서비스 빌드 및 실행 (캐시 없이 클린 빌드 권장)
docker-compose up -d --build

# 2. 서비스 상태 확인
docker-compose ps
```

## 4. 각 컴포넌트 설명

| 컴포넌트 | 기술 스택 | 주요 역할 및 특징 |
| :--- | :--- | :--- |
| **Messaging** | Apache Kafka | 데이터 유실 방지 및 컴포넌트 간 결합도 완화 |
| **Processing** | Apache Spark | 실시간 랭킹 산출 및 S3 체크포인트를 활용한 장애 복구 |
| **Storage** | Redis | Sorted Set과 Hash 구조를 활용한 초저지연 데이터 제공 |
| **Backend** | FastAPI | 비동기 처리를 통한 고성능 데이터 서빙 API |
| **Frontend** | Streamlit | Plotly 기반 시각화 및 커스텀 CSS를 활용한 밀착 레이아웃 |
| **Scheduler** | Apache Airflow | 정기적인 배치 분석 및 작업 스케줄링 관리 |

